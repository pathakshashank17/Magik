{"version":3,"sources":["constants.js","content.js"],"names":["module","exports","MODEL_URL","FIRST_TIME","PREDICTION","CAM_ACCESS","MODEL_EXT","METADATA_EXT","PAGE_LOADED","PAGE_UNLOADED","CANVAS_WIDTH","CANVAS_HEIGHT","MUTE","CAM_OFF","DOUBT","actOnPrediction","predictions","maxProb","className","prediction","probability","console","log","elem","document","querySelectorAll","filter","item","getAttribute","toString","includes","click","chrome","runtime","onMessage","addListener","message","window","onload","sendMessage","onunload"],"mappings":"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","file":"content.js","sourceRoot":"..\\..\\src","sourcesContent":["module.exports = {\r\n  MODEL_URL: 'https://teachablemachine.withgoogle.com/models/eYXUZKx07/',\r\n  FIRST_TIME: 'src/firstTime.html',\r\n  PREDICTION: 'PREDICTION',\r\n  CAM_ACCESS: 'camAccess',\r\n  MODEL_EXT: 'model.json',\r\n  METADATA_EXT: 'metadata.json',\r\n  PAGE_LOADED: 'pageLoaded',\r\n  PAGE_UNLOADED: 'pageUnloaded',\r\n  CANVAS_WIDTH: '640',\r\n  CANVAS_HEIGHT: '480',\r\n  MUTE: 'Mute',\r\n  CAM_OFF: 'Camera Off',\r\n  DOUBT: 'Raise Hand'\r\n};","import {MUTE, CAM_OFF, DOUBT, PAGE_LOADED, PAGE_UNLOADED} from './constants';\r\n\r\nlet actOnPrediction = (predictions) => {\r\n  let maxProb = -1;\r\n  let className;\r\n  for (const prediction of predictions) {\r\n    if (prediction.probability >= maxProb) {\r\n      maxProb = prediction.probability;\r\n      className = prediction.className;\r\n    }\r\n  }\r\n  console.log(`prediction:${className}`);\r\n  if (className === MUTE) {\r\n    let elem = [...document.querySelectorAll('button')].filter((item) =>\r\n        item.getAttribute('aria-label').toString().includes('microphone'),\r\n    )[0];\r\n    console.log(elem);\r\n    if (elem && elem.getAttribute('aria-label').includes('off')) {\r\n      elem.click();\r\n    }\r\n  } else if (className === CAM_OFF) {\r\n    let elem = [...document.querySelectorAll('button')].filter((item) =>\r\n        item.getAttribute('aria-label').toString().includes('camera'),\r\n    )[0];\r\n    if (elem && elem.getAttribute('aria-label').includes('off')) {\r\n      elem.click();\r\n    }\r\n  } else if (className === DOUBT) {\r\n    let elem = [...document.querySelectorAll('button')].filter((item) =>\r\n        item.getAttribute('aria-label').toString().includes('hand'),\r\n    )[0];\r\n    console.log(elem);\r\n    if (elem && elem.getAttribute('aria-pressed').includes('false')) {\r\n      elem.click();\r\n    }\r\n  }\r\n  return true;\r\n};\r\n\r\nchrome.runtime.onMessage.addListener((message) => {\r\n  if (message && message.prediction) {\r\n    actOnPrediction(message.prediction);\r\n  }\r\n});\r\n\r\nwindow.onload = () => {\r\n  chrome.runtime.sendMessage({message: PAGE_LOADED});\r\n};\r\n\r\nwindow.onunload = () => {\r\n  chrome.runtime.sendMessage({message: PAGE_UNLOADED});\r\n};\r\n"]}